# This file was auto-generated by corerl.
# Do not make direct changes to the file.
pipeline:
  tags:
  - name: action-0
    connection_id: f2365731-eeee-4b3f-b1dc-54634735d1d9
    node_identifier: ns=2;s=action-0
    is_endogenous: true
    type: meta
    operating_range:
    - -1.5
    - 1.5
    red_bounds:
    - null
    - null
    yellow_bounds:
    - null
    - null
    change_bounds: null
    guardrail_schedule: null
    agg: avg
    outlier:
      name: identity
    imputer:
      name: identity
    preprocess:
    - name: normalize
      min: -1.5
      max: 1.5
      from_data: false
    reward_constructor:
    - name: 'null'
    action_constructor: null
    state_constructor:
    - name: multi_trace
      trace_values:
      - 0.0
      - 0.9
    filter: null
  - name: tag-0
    connection_id: f2365731-eeee-4b3f-b1dc-54634735d1d9
    node_identifier: ns=2;s=tag-0
    is_endogenous: true
    type: meta
    operating_range:
    - -1.2
    - 0.6
    red_bounds:
    - -1.0
    - null
    yellow_bounds:
    - -0.8
    - null
    change_bounds: null
    guardrail_schedule: null
    agg: avg
    outlier:
      name: identity
    imputer:
      name: identity
    preprocess:
    - name: normalize
      min: -1.0
      max: 0.6
      from_data: false
    reward_constructor:
    - name: 'null'
    action_constructor: null
    state_constructor:
    - name: multi_trace
      trace_values:
      - 0.0
      - 0.9
    filter: null
  - name: tag-1
    connection_id: f2365731-eeee-4b3f-b1dc-54634735d1d9
    node_identifier: ns=2;s=tag-1
    is_endogenous: true
    type: meta
    operating_range:
    - -0.07
    - 0.07
    red_bounds:
    - -0.06
    - 0.06
    yellow_bounds:
    - null
    - null
    change_bounds: null
    guardrail_schedule: null
    agg: avg
    outlier:
      name: identity
    imputer:
      name: identity
    preprocess:
    - name: normalize
      min: -0.06
      max: 0.06
      from_data: false
    reward_constructor:
    - name: 'null'
    action_constructor: null
    state_constructor:
    - name: multi_trace
      trace_values:
      - 0.0
      - 0.9
    filter: null
  max_data_gap: PT4M
  imputer:
    name: per-tag
    default:
      name: identity
  oddity_filter:
    default:
      name: identity
  state_constructor:
    defaults:
    - name: multi_trace
      trace_values:
      - 0.0
      - 0.75
      - 0.9
      - 0.95
    countdown:
      kind: no_countdown
      normalize: true
      action_period: PT4M
      obs_period: PT2M
    seasonal:
      time_of_day_enabled: false
      day_of_week_enabled: false
      time_of_year_enabled: false
  transition_creator:
    name: all-the-time
    min_n_step: 1
    max_n_step: 2
    gamma: 0.9
  transition_filter:
    filters:
    - no_nan
  reward:
    priorities:
    - op: down_to
      tag: action-0
      thresh: 0.0
    - tags:
      - action-0
      directions:
      - min
      weights:
      - 1.0
infra:
  db:
    drivername: postgresql+psycopg2
    username: postgres
    password: password
    ip: 127.0.0.1
    port: 5432
    db_name: postgres
    schema: public
event_bus:
  enabled: false
  cli_connection: tcp://localhost:5555
  app_connection: inproc://corerl_app
experiment:
  debug: false
  device: cpu
  num_threads: 4
  exp_name: experiment
  gamma: 0.9
  max_steps: 200
  offline_steps: 0
  offline_eval_iters: []
  offline_start_time: null
  offline_end_time: null
  pipeline_batch_duration: P7D
  render: 0
  param: ''
  param_from_hash: false
  save_path: output
  seed: 0
  is_simulation: true
feature_flags:
  delta_actions: false
  ensemble: 1
  zone_violations: false
  action_embedding: false
  wide_nets: false
log_path: null
evals:
  drivername: postgresql+psycopg2
  username: postgres
  password: password
  ip: 127.0.0.1
  port: 5432
  db_name: postgres
  table_name: evals
  enabled: false
  table_schema: public
  name: db
  lo_wm: 10
metrics:
  drivername: postgresql+psycopg2
  username: postgres
  password: password
  ip: 127.0.0.1
  port: 5432
  db_name: postgres
  table_name: metrics
  enabled: false
  table_schema: public
  name: db
  lo_wm: 1
env:
  name: dep_async_env
  seed: 0
  db:
    drivername: postgresql+psycopg2
    username: postgres
    password: password
    ip: 127.0.0.1
    port: 5432
    db_name: postgres
    table_name: sensors
    enabled: true
    table_schema: public
    data_agg: avg
  action_tolerance: PT2M
  coreio_origin: http://coreio:2222
interaction:
  obs_period: PT2M
  action_period: PT4M
  update_period: PT2M
  setpoint_ping_period: null
  update_warmup: 0
  name: dep_interaction
  historical_batch_size: 10000
  hist_chunk_start: null
  checkpoint_path: outputs/checkpoints
  restore_checkpoint: true
  warmup_period: null
  heartbeat:
    connection_id: null
    heartbeat_node_id: null
    heartbeat_period: PT5S
    max_counter: 1000
agent:
  name: greedy_ac
  n_updates: 1
  gamma: 0.9
  seed: 0
  critic:
    critic_network:
      name: ensemble
      ensemble: 1
      bootstrap_reduct:
        name: mean
      base:
        name: late_fusion
        input_cfg:
          name: fc
          bias: true
          layer_init: Xavier
          hidden:
          - 64
          - 64
          activation:
          - name: relu
          - name: relu
        skip_input: true
        combined_cfg:
          name: fc
          bias: true
          layer_init: Xavier
          hidden:
          - 64
          - 64
          activation:
          - name: relu
          - name: relu
    critic_optimizer:
      name: lso
      lr: 0.1
      weight_decay: 0.0
      max_backtracking_steps: 50
      unit_norm_direction: false
      fallback_step_size: 0.0001
      optim:
        name: adam
        lr: 0.001
        weight_decay: 0.0
      init:
        name: To
      search_condition:
        name: Armijo
        kwargs:
          c: 0.1
          beta: 0.9
          min_step_size: 0.0
          max_step_size: 1.0
    buffer:
      name: mixed_history_buffer
      online_weight: 0.75
      ensemble: 1
      ensemble_probability: 1.0
      seed: 0
      memory: 1000000
      batch_size: 256
      n_most_recent: 1
      id: ''
    polyak: 0.995
  policy:
    name: network
    delta_actions: false
    delta_bounds: []
    delta_rejection_sample: true
    num_samples: 128
    actor_percentile: 0.1
    sampler_percentile: 0.2
    uniform_weight: 1.0
    init_sampler_with_actor_weights: true
    resample_for_sampler_update: true
    even_dispersed_uniform: false
    ingress_loss: true
    network:
      name: squashed_gaussian
      base:
        name: fc
        bias: true
        layer_init: Xavier
        hidden:
        - 64
        - 64
        activation:
        - name: relu
        - name: relu
      head_layer_init: Xavier
      head_activation:
      - - name: identity
      - - name: clamp
          args:
          - -20
          - 2
        - name: exp
      head_bias: true
    optimizer:
      name: adam
      lr: 0.001
      weight_decay: 0.0
    buffer:
      name: mixed_history_buffer
      online_weight: 0.75
      ensemble: 1
      ensemble_probability: 1.0
      seed: 0
      memory: 1000000
      batch_size: 256
      n_most_recent: 1
      id: ''
  n_actor_updates: 1
  n_critic_updates: 1
  eval_batch: false
  ingress_loss: true
  most_recent_batch_loss: true
eval_cfgs:
  actor_critic:
    name: actor-critic
    enabled: false
    num_test_states: 30
    num_uniform_actions: 100
    critic_samples: 5
  monte_carlo:
    enabled: false
    precision: 0.99
    critic_samples: 5
    gamma: 0.9
  raw_data:
    data_modes:
    - 2
    stage_codes:
    - 1
    enabled: true
    tags: []
  policy_variance:
    enabled: true
    n_samples: 100
  q_online:
    enabled: true
  greed_dist_batch:
    enabled: true
    n_samples: 100
  greed_dist_online:
    enabled: true
    n_samples: 100
  greed_percent_batch:
    enabled: true
    n_samples: 200
    percentile: 0.1
  greed_percent_online:
    enabled: true
    n_samples: 200
    percentile: 0.1
report:
  output_dir: outputs/report
  stages:
  - 1
  tags_to_exclude: []
  stat_table_enabled: true
  cross_corr_enabled: true
  cross_corr_tags: []
  cross_corr_max_lag: 100
  hist_enabled: true
  hist_show_mean: true
  hist_percentiles:
  - 0.1
  - 0.9
  hist_num_bins: 30
